---
import Head from '@components/app/Head.astro';
import { THEME } from '@config/theme.ts';
import { getLocale } from '@i18n/index.ts';
import type { ComponentProps } from 'astro/types';
import '../styles/global.css';
import '../styles/themes.css';
import '../styles/tokens.css';
import '../styles/utils.css';
import type { WithChildren } from '../types.ts';

/**
 * Props for the base HTML layout wrapper.
 *
 * Allows children content for the main body and head slot. Accepts all Head component props.
 */
type Props = WithChildren<true, ComponentProps<typeof Head>>;

const currentLocaleId = getLocale(Astro);

const props = Astro.props;
---

<!doctype html>
<html lang={currentLocaleId} data-theme={THEME.default.id}>
	<Head {...props}>
		<slot name="head" />
	</Head>

	<body>
		<slot />
	</body>
</html>

<style>
	body {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: var(--p-md);
		min-height: 100dvh;
		margin: 0;
		background-color: var(--bg-1);
		color: var(--fg);
		font-family: var(--f-body);
		font-weight: var(--f-normal);
		line-height: 1.5;
	}
</style>
