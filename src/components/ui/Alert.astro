---
import type { HTMLAttributes } from 'astro/types';
import type { WithChildren } from '../../types.ts';

/**
 * Props for an alert/notification blockquote with configurable styling. Used by Markdoc.
 *
 * @property type - The alert type determining the icon and styling (default: 'info')
 */
interface Props extends WithChildren<true, HTMLAttributes<'blockquote'>> {
	type?: 'info';
}

const { type = 'info', ...restProps } = Astro.props;
---

<!-- This must be on the same line to prevent whitespace from being inserted -->
<blockquote data-type={type} {...restProps}><slot /></blockquote>

<style>
	blockquote {
		margin: 0;
		padding: var(--p-md);
		border-width: var(--border-md);
		border-style: solid;
		border-radius: var(--radius-md);
		border-color: var(--primary);

		&::before {
			display: block;
			padding-block-end: var(--p-sm);
			font-weight: var(--bold);
		}

		p {
			margin: 0;
		}
	}

	[data-type='info']::before {
		content: 'â“˜ Note';
		color: var(--primary);
	}
</style>
